# GitHub Actions Cron Jobs - FREE alternative to Vercel Crons
# This file runs your data sync jobs without using Vercel's billing

name: Data Sync Crons

on:
  schedule:
    # Sync financials - twice daily instead of 3x/hour
    - cron: '0 6,18 * * *'  # 6 AM and 6 PM UTC
  workflow_dispatch:  # Allow manual trigger

jobs:
  sync-financials:
    runs-on: ubuntu-latest
    steps:
      - name: Sync Priority Financials
        run: |
          curl -X GET "https://lician.com/api/cron/sync-financials?mode=priority&limit=200" \
            -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}"
        continue-on-error: true

  # Uncomment and customize as needed:
  # sync-prices:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Sync Prices
  #       run: |
  #         curl -X GET "https://lician.com/api/cron/sync-prices?limit=200" \
  #           -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}"

  # sync-insider-trades:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Sync Insider Trades
  #       run: |
  #         curl -X GET "https://lician.com/api/cron/sync-insider-trades?limit=100" \
  #           -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}"
