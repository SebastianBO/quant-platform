# Ralph Loop: pSEO Explosion Protocol

## Mission
Scale from 3K indexed pages to 10M+ pages in 90 days.

## The Math
- Current: 3K pages → ~1K visits/month
- Target: 10M pages → 3M+ visits/month (assuming 0.3 visits/page)
- TradingView benchmark: 650K pages → 45M visits

## Page Generation Targets

### Phase 1: Comparison Pages (Week 1-2)
**Target: 250,000+ pages**

Formula: Top 500 stocks × Top 500 stocks = 250,000 unique comparisons

URL Pattern: `/compare/{ticker1}-vs-{ticker2}`
Example: `/compare/aapl-vs-msft`

Keywords targeted:
- "AAPL vs MSFT"
- "Apple vs Microsoft stock"
- "should I buy AAPL or MSFT"
- "AAPL or MSFT better investment"

### Phase 2: Metric Pages Scale (Week 2-4)
**Target: 1,000,000+ pages**

Formula: 200 metrics × 5,000 stocks = 1,000,000 pages

URL Pattern: `/{metric}/{ticker}`
Example: `/pe-ratio/aapl`, `/revenue-growth/msft`

Keywords targeted:
- "AAPL PE ratio"
- "Microsoft revenue growth"
- "Tesla profit margin"

### Phase 3: Earnings Pages (Week 3-5)
**Target: 100,000+ pages**

Patterns:
- `/earnings/{ticker}` - 5,000 pages
- `/earnings/{date}` - 365 × 5 years = 1,825 pages
- `/earnings/{month}-{year}` - 12 × 10 years = 120 pages
- `/earnings/week/{week}` - 52 × 5 years = 260 pages
- `/earnings/tomorrow` - evergreen
- `/earnings/this-week` - evergreen
- `/earnings/next-week` - evergreen

### Phase 4: Best Stocks Pages (Week 4-6)
**Target: 50,000+ pages**

Patterns:
- `/best-stocks/{category}` - 100 categories
- `/best-stocks/{category}/{year}` - 100 × 10 years
- `/best-{metric}-stocks` - 200 metrics
- `/best-{metric}-stocks-{sector}` - 200 × 11 sectors
- `/top-{number}-{category}-stocks` - variations

### Phase 5: Industry + Sector Deep Pages (Week 5-7)
**Target: 25,000+ pages**

Patterns:
- `/industry/{industry}` - 100 industries
- `/industry/{industry}/best-performers`
- `/industry/{industry}/{metric}` - 100 × 200
- `/sector/{sector}/{metric}` - 11 × 200

### Phase 6: Historical + Forecast Pages (Week 6-8)
**Target: 500,000+ pages**

Patterns:
- `/stock/{ticker}/history/{year}` - 5,000 × 20 years
- `/prediction/{ticker}/{year}` - 5,000 × 5 years
- `/{ticker}-stock-forecast-{year}` - 5,000 × 5 years

---

## Technical Implementation

### Sitemap Strategy
Google limit: 50,000 URLs per sitemap, 500 sitemaps per index

Plan:
- `sitemap-index.xml` → Links to all sitemaps
- `sitemap-compare-{page}.xml` → 500 files × 500 URLs = 250K comparisons
- `sitemap-metrics-{metric}.xml` → 200 files × 5,000 URLs = 1M metric pages
- `sitemap-earnings.xml` → All earnings pages
- `sitemap-best-stocks.xml` → All best stocks pages

### ISR Configuration
```typescript
// All pSEO pages use ISR with 1-hour cache
export const revalidate = 3600

// High-traffic pages use shorter cache
export const revalidate = 300 // 5 minutes for trending
```

### On-Demand Generation
Pages are generated on-demand with ISR:
1. First request → Generate page, cache for 1 hour
2. Subsequent requests → Serve from cache
3. After 1 hour → Regenerate in background

### Database Optimization
- Use Supabase edge functions for fast data
- Cache stock data in memory (LRU cache)
- Batch API calls for comparison pages

---

## Execution Checklist

### Week 1: Foundation
- [ ] Fetch complete stock list from database (5,000+ tickers)
- [ ] Create comparison page route that handles any two tickers
- [ ] Generate first batch of comparison sitemaps (top 100 × 100)
- [ ] Verify ISR caching is working

### Week 2: Scale Comparisons
- [ ] Expand to top 500 × 500 comparisons
- [ ] Create sitemap generation script
- [ ] Submit sitemaps to Google Search Console
- [ ] Monitor crawl stats

### Week 3: Metric Pages
- [ ] Audit existing 400 metric page templates
- [ ] Ensure all metrics work with any ticker
- [ ] Generate metric sitemaps for all 5,000 stocks
- [ ] Add schema markup for rich results

### Week 4: Earnings Pages
- [ ] Create `/earnings/{ticker}` route
- [ ] Create `/earnings/{date}` route
- [ ] Create calendar-based earnings pages
- [ ] Add structured data (Event schema)

### Week 5: Best Stocks
- [ ] Create `/best-stocks/{category}` route
- [ ] Define 100+ categories
- [ ] Generate category combinations
- [ ] Add FAQ schema for featured snippets

### Week 6: Industry Deep Dives
- [ ] Create industry metric pages
- [ ] Cross-link between related pages
- [ ] Build internal linking mesh

### Week 7-8: Optimization
- [ ] Monitor GSC for crawl errors
- [ ] Fix any 404s or soft 404s
- [ ] Optimize page load times
- [ ] A/B test meta titles

---

## Success Metrics

| Week | Target Pages | Target Indexed | Target Clicks/Day |
|------|--------------|----------------|-------------------|
| 1 | 10,000 | 5,000 | 10 |
| 2 | 50,000 | 20,000 | 50 |
| 4 | 250,000 | 100,000 | 200 |
| 8 | 1,000,000 | 400,000 | 1,000 |
| 12 | 5,000,000 | 2,000,000 | 5,000 |

---

## Current Iteration

### Iteration 1: Comparison Page Infrastructure
Status: IN PROGRESS

Tasks:
1. Get full stock list from Supabase
2. Update compare route to handle any ticker pair
3. Create comparison sitemap generator
4. Test with 10,000 comparisons first

---

## Config
```yaml
max_iterations: 100
completion_promise: 10M indexed pages
current_iteration: 1
started_at: 2026-01-08T02:00:00Z
status: ACTIVE
priority: CRITICAL
```
